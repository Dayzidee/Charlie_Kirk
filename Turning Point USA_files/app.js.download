function loadPluginApp(){var e=parent.document.getElementById("spark-main");window.self===window.top||void 0!==e&&null!=e?window.self==window.top&&loadFallbackStyles():(sparkAppDomain=document.getElementById("spark-app")?.getAttribute("src")?.split("/")[2]??"app.sparkplugin.com",(e=document.createElement("script")).src="https://code.jquery.com/jquery-3.5.1.min.js",e.addEventListener("load",loadMain),parent.document.querySelector("head").appendChild(e),loadMinifiers())}function loadMain(){var e=document.createElement("script");e.src=`https://${sparkAppDomain}/app-main.js`,e.id="spark-main",parent.document.querySelector("head").appendChild(e)}function loadMinifiers(){var e=document.createElement("script"),e=(e.src="https://cdn.jsdelivr.net/npm/terser/dist/bundle.min.js",parent.document.querySelector("head").appendChild(e),document.createElement("script"));e.src="https://cdn.jsdelivr.net/npm/csso/dist/csso.min.js",parent.document.querySelector("head").appendChild(e)}function waitForHead(t){if(parent.document.querySelector("head"))t();else{let e=0;const n=setInterval(()=>{parent.document.querySelector("head")?(clearInterval(n),t()):60<=++e&&clearInterval(n)},1e3)}}function loadFallbackStyles(){try{var e,t,n,a,d,r,s=document.getElementById("spark-assets");document.getElementById("spark-fast-loader")||s&&""!=s.textContent.trim()||(t=(e=document.getElementById("spark-app")).getAttribute("src").split("/")[2],n=e.getAttribute("data-token"),a=e.getAttribute("data-sd"),d=document.createElement("link"),Object.assign(d,{type:"text/css",href:"https://"+t+"/style.php?token="+n+"&sd="+a,rel:"stylesheet",id:"spark-remote-assets"}),document.head.append(d),(r=document.createElement("script")).src="https://"+t+"/js-assets.js",r.id="spark-js-assets",document.head.append(r))}catch(e){}}"loading"!==document.readyState?waitForHead(loadPluginApp):document.addEventListener("DOMContentLoaded",function(){waitForHead(loadPluginApp)});